digraph G {
  compound=true;
  node [shape="component"]
  newrank=true;
  rankdir="LR";
  
  
  subgraph cluster_ebr {
      label = "enterprise business rules";
      rank="same";
      style="bold";
      ebr [shape=point style=invis];
      
      entities;
  }
  
  subgraph cluster_app {
      label = "application";
      rank="same";
      style="bold";
      app [shape=point style=invis];
      
      ob [label="<<interface>>\n output boundaries"]
      uc [label="use case interactors"]
      ib [label="<<interface>>\n input boundaries"]
  }
  
  
   subgraph clusterX_margin
   {
     style=invis
     margin=20.0
  
  subgraph cluster_thirdparty {
      label = "frameworks and libraries";
      rank="same";
      node [style="dotted"];
      style="bold,dotted";
      thirdparty[shape=point style=invis];
      
      sdk [label="software development kit"]
      driver;
      views;
  }
   }
  
  subgraph cluster_ia {
      label = "interface adapters";
      rank="same";
      style="bold";
      ia [shape=point style=invis];
      
      controllers, presenters, "view models"
      bi [label="board interfaces"]
      da [label="driver adapters"]
  };
  
   subgraph clusterX_xyz
   {
  
      label = "xyz";
      rank="same";
      style="bold";
      xyz [shape=point style=invis];
   }
  
  subgraph cluster_board {
      label = "board adapter";
      rank="same";
      style="bold";
      driver_interface [label="driver interfaces"]
      board [shape=point style=invis];
      board_impl [label="board implementatnion"]
      board_impl -> driver_interface;
      
  }
  
  n1 [label="Not part of\nthe project.", shape="note"]
  n1 -> thirdparty [lhead="cluster_thirdparty"];
  
  { 
      rank=source; 
      ia, thirdparty, board;
  }
  
  {
      // dependencies
      edge [style="dashed", arrowtail="vee", dir="back"];
      thirdparty -> ia [ltail="cluster_thirdparty", lhead="cluster_ia"];
      entities -> uc;
      bi -> board_impl [arrowtail=onormal];
      app -> ia [ltail=cluster_app, lhead=cluster_ia];
      ib -> controllers;
      ob -> uc;
      ib -> uc [arrowtail=onormal];
      ob -> presenters [arrowtail=onormal];
      driver_interface -> da [arrowtail=onormal];
       driver -> da;
      views -> presenters;
      bi -> presenters;
  } 
} 
