; PlatformIO Project Configuration File
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

;-------------------------------------------------------
; global PIO parameters                                |
;-------------------------------------------------------
[platformio]
;default build enfironment for PIO project
default_envs = esp32-s3-devkitc-1

;Path to source files relative to PIO project
; see https://docs.platformio.org/en/stable/projectconf/sections/platformio/options/directory/src_dir.html
src_dir = src

;switch "include" path to be src as well, as we decide to have headers and sources in same directories
; this prevents the build environment from complaining the path not existing
include_dir = src

;-------------------------------------------------------
; common parameters for all environments [env:...]     |
;-------------------------------------------------------
[env]
;filter for source file directory when building
; see https://docs.platformio.org/en/stable/projectconf/sections/env/options/build/build_src_filter.html
build_src_filter = +<*> -<.git/> -<.svn/>

;general dependencies
; for version requirements see https://docs.platformio.org/en/stable/core/userguide/pkg/cmd_install.html#cmd-pkg-install-requirements
lib_deps = 
  adafruit/Adafruit SSD1306@~2.5.3
  lvgl@~7.11.0
  ;https://github.com/lvgl/lvgl_esp32_drivers.git#9fed1cc47b5a45fec6bae08b55d2147d3b50260c

build_flags =
  -DLV_CONF_INCLUDE_SIMPLE
  -DLV_LVGL_H_INCLUDE_SIMPLE
  -DCONFIG_LV_TFT_DISPLAY_CONTROLLER_SSD1306
  -DCONFIG_LV_I2C_DISPLAY
  -DCONFIG_LV_DISPLAY_ORIENTATION_LANDSCAPE
  -DCONFIG_LV_I2C_DISPLAY_PORT=Wire
  -DCONFIG_LV_TOUCH_CONTROLLER_NONE
  -DCONFIG_LV_TFT_DISPLAY_PROTOCOL_I2C
  -DCONFIG_LV_DISPLAY_I2C_PORT_0
  -Wno-discarded-qualifiers   ; removes warings about discarding qualifiers, but creates "notes" that it has no effect on C++ compiler
  -I"src"                     ; adds src directory to be used as include directory

;general serial monitor baud rate
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

[env:native]
platform = native
lib_deps =
    ArduinoFake
build_flags =
    -Wno-deprecated ; Workaround for https://github.com/FabioBatSilva/ArduinoFake/pull/41#issuecomment-1440550553

;-------------------------------------------------------
; ESP32 build environment                              |
;-------------------------------------------------------
[env:esp32-s3-devkitc-1]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
;;add dependencies to general dependencies from [env]
; lib_deps = 
;   ${env.lib_deps}

