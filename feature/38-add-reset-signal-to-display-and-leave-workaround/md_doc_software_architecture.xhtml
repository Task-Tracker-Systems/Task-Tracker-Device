<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Task Tracker: Software Architecture</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Task Tracker
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.xhtml');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Software Architecture </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md10">Objectives of the Software Architecture</a></li>
<li class="level1"><a href="#autotoc_md11">Achieving a Flexible Structure</a></li>
<li class="level1"><a href="#autotoc_md12">Implementing a Plug-in Architecture</a><ul><li class="level2"><a href="#interpretation_dependency_rule">Interpretation of the Dependency Rule</a></li>
<li class="level2"><a href="#autotoc_md13">Dependency Injection</a></li>
<li class="level2"><a href="#autotoc_md14">Interface Adapters</a></li>
<li class="level2"><a href="#autotoc_md15">Components</a></li>
</ul>
</li>
<li class="level1"><a href="#component_architecture">Component Architecture</a></li>
<li class="level1"><a href="#autotoc_md16">Further References</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="autotoc_md10"></a>
Objectives of the Software Architecture</h1>
<p >The objectives of the software architecture are:</p>
<ul>
<li>Designed for testability: The software parts have interfaces which allow to test those parts individually.</li>
<li>A use case driven approach: The architecture shall be centered on use cases and not depend on implementation details.</li>
<li>Flexible structure: The software shall not be hard to adjust to changing hardware, development frameworks or external/third party libraries.</li>
</ul>
<h1><a class="anchor" id="autotoc_md11"></a>
Achieving a Flexible Structure</h1>
<dl class="section note"><dt>Note</dt><dd>The description will use the term '<em>level</em>' or '<em>policy</em> level'. It is used according to the description given in <a class="el" href="citelist.xhtml#CITEREF_CleanArchitecture">[2]</a> p. 184 ff..</dd></dl>
<p>For maintaining flexibility the software architecture shall adhere to:</p>
<ul>
<li>The 'Acyclic Dependencies Principle' in <a class="el" href="citelist.xhtml#CITEREF_CleanArchitecture">[2]</a> p. 112 ff..: <br  />
 <blockquote class="doxtable">
<p >&zwj;Allow no cycles in the component dependency graph. </p>
</blockquote>
</li>
<li>The 'Dependency Rule' in <a class="el" href="citelist.xhtml#CITEREF_CleanArchitecture">[2]</a> p. 203 ff.: <br  />
 <blockquote class="doxtable">
<p >&zwj;Source code dependencies must point only [...] toward higher-level policies. </p>
</blockquote>
</li>
</ul>
<p >For this software the implementation details (lower level) are:</p>
<ul>
<li>The board (hardware) including the processor.</li>
<li>The software development kit (SDK) or <a href="https://github.com/platformio/platformio-docs/blob/5ae4fa7e895f5d3a04514314b1af31b37469d274/frameworks/index.rst" title="List of frameworks written by PlatformIO.">framework</a>.</li>
<li>Other external/3rd party libraries.</li>
</ul>
<p >The application (higher level policies) shall not depend on those implementation details.</p>
<p >In contrast the software will commit to the following dependencies:</p>
<ul>
<li>The code may depend on a compiler which is capable to compile C++17 as defined in ISO/IEC 14882:2017.</li>
<li>The code may depend on an implementation of the C++ Standard Library as defined in ISO/IEC 14882:2017.</li>
</ul>
<h1><a class="anchor" id="autotoc_md12"></a>
Implementing a Plug-in Architecture</h1>
<dl class="section note"><dt>Note</dt><dd>The description will use the term '<em>package</em>'. In this context a package groups related implementation of functionality of a common policy level. It does not refer to a specific artifact type in a programming language.</dd></dl>
<h2><a class="anchor" id="interpretation_dependency_rule"></a>
Interpretation of the Dependency Rule</h2>
<p >For this software architecture the Dependency Rule (see <a class="el" href="citelist.xhtml#CITEREF_CleanArchitecture">[2]</a> p. 203) is applied on source code dependencies between <em>packages</em>. That means that source code may only depend on source code within its own package or on source code in packages of higher-level policies.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
Dependency Injection</h2>
<p >For a higher level package to use an implementation from a lower level, interfaces shall be used. At runtime the higher level package needs to use the actual object realizing the interface. But this shall be done without revealing the implementation details to the higher level package. For this, non-member "getter"- or "factory"- functions (Dependency Injector Function; DIF) shall be declared in the higher level package. Using functions as dependency injector allows to call the constructor of the implementation with run-time arguments. The actual object is created by the DIF which is defined in the lower layer package. The DIF provides the object to the caller, for example by returning a reference to it.</p>
<p >The declaration of a DIF must reside in the (highest) level which calls it. Its definition must reside at the level which implements the dependency or at a lower level. But it should not reside in the same unit as the dependency. As the definition of the DIF depends on its usage it should not pollute the implementation's unit. This simplifies reusability and testability of the implementation.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Interface Adapters</h2>
<p >In case an implementation detail can not be changed: For example because it is a stable software part, or 3rd-party or otherwise immutable. Then interface adapters must be implemented. Those interface adapters realize the higher layer interface while using the stable component. The usage may for example be realized using the delegation pattern.</p>
<p ><div class="dotgraph">
<iframe scrolling="no" frameborder="0" src="dot_dependency_injection_interface_adapter.svg" width="847" height="412"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe><div class="caption">
example of dependency injection and interface adapter</div>
</div>
</p>
<h2><a class="anchor" id="autotoc_md15"></a>
Components</h2>
<p >Components are parts of the software which may be exchanged or changed as a whole. For example a library (including any interface adapters) can be considered as one component. Another example of a component is the software for adapting to the board (the device's hardware used by the software). As a different board may be used for the same application.</p>
<p >Also this definition of <em>components</em> from the <a href="https://c4model.com/">C4 software architecture model</a> by Simon Brown applies (<a class="el" href="citelist.xhtml#CITEREF_CleanArchitecture">[2]</a> p. 314) applies:</p>
<blockquote class="doxtable">
<p >&zwj;A grouping of related functionality behind a nice clean interface, which resides inside an execution environment like an application. </p>
</blockquote>
<h1><a class="anchor" id="component_architecture"></a>
Component Architecture</h1>
<p >The following diagram sketches the plan for the component architecture. The elements in the diagram are placeholders for components which will be defined in a generic way further below.</p>
<p >The component architecture shall support the objectives of the software architecture. Mechanisms for dependency injection are omitted in this diagram for readability.</p>
<p ><div class="dotgraph">
<iframe scrolling="no" frameborder="0" src="dot_component_architecture.svg" width="726" height="739"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe><div class="caption">
component architecture for this software</div>
</div>
</p>
<p >The rectangles with bold border are packages. The label at the top of each package is the name of the package. Each package consists of one or more components. All components in this diagram are exemplarily.</p>
<p >The components are described in further detail in their respective pages:</p>
<ul>
<li><a class="el" href="enterprise_business_rules.xhtml">Enterprise Business Rules</a></li>
<li><a class="el" href="application_business_rules.xhtml">Application Business Rules</a></li>
<li><a class="el" href="board_adapters.xhtml">Board Adapters</a></li>
<li><a class="el" href="third_party_adapters.xhtml">3rd Party Adapters</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md16"></a>
Further References</h1>
<ul>
<li><a class="el" href="citelist.xhtml#CITEREF_TheCleanArchitecture">[1]</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 1 2023 16:17:29 for Task Tracker by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
